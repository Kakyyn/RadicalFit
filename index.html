<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- PWA and Apple Touch Icon -->
    <link rel="apple-touch-icon" sizes="180x180" href="https://raw.githubusercontent.com/Kakyyn/RadicalFit/5e7e4575e3f7dab9ac0cf03d74d527b9cb3d1c07/logo180.png">
    <link rel="icon" type="image/png" sizes="180x180" href="https://raw.githubusercontent.com/Kakyyn/RadicalFit/5e7e4575e3f7dab9ac0cf03d74d527b9cb3d1c07/logo180.png">
    <link rel="stylesheet" href="main.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Radical Fit</title>
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.1/build/qrcode.min.js"></script>
    <script src="https://unpkg.com/html5-qrcode@2.3.7/minified/html5-qrcode.min.js"></script>
</head>
<body>
    <!-- Landing Page -->
    <div id="landingPage" class="landing-container">
        <div class="landing-content">
            <img src="https://raw.githubusercontent.com/Kakyyn/RadicalFit/5e7e4575e3f7dab9ac0cf03d74d527b9cb3d1c07/logo.png" alt="Radical Fit Logo" style="width:346px;height:160px;border-radius:28px;display:block;margin:0 auto 18px auto;">
            <p class="landing-subtitle">Transforma tu cuerpo.</p>
            
            <div class="landing-tabs">
                <button class="landing-tab active" data-tab="info">Informaci√≥n</button>
                <button class="landing-tab" data-tab="login">Iniciar Sesi√≥n</button>

            </div>
            <div id="gymInfo" class="landing-tab-content gym-info active">
                <h3>Acerca de Nuestro Gimnasio</h3>
                <p>¬°Bienvenido a Radical Fit! Ofrecemos equipos de √∫ltima generaci√≥n y programas de entrenamiento personalizados para ayudarte a alcanzar tus objetivos de fitness.</p>
                
                <ul class="plans-list">
                    <li class="plan-item" data-plan="nitro">
                        <span class="plan-name">Nitro</span>
                    </li>
                    <li class="plan-item" data-plan="zero">
                        <span class="plan-name">Body Clean</span>
                    </li>
                    <li class="plan-item" data-plan="tnt">
                        <span class="plan-name">After Party</span>
                    </li>
                    <li class="plan-item" data-plan="gainer">
                        <span class="plan-name">Gainer</span>
                    </li>
                </ul>
                <!-- Plan Info Modal -->
                <div id="planInfoModal" class="modal">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h2 class="modal-title" id="planModalTitle">Informaci√≥n del Plan</h2>
                            <button class="close-btn" id="closePlanModal">&times;</button>
                        </div>
                        <div id="planModalBody"></div>
                    </div>
                </div>
            </div>
            <div id="loginTab" class="landing-tab-content">
                <form id="loginForm">
                    <div class="form-group">
                        <label class="form-label">Correo Electr√≥nico</label>
                        <input type="email" class="form-input" id="loginEmail" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Contrase√±a</label>
                        <input type="password" class="form-input" id="loginPassword" required>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;">Iniciar Sesi√≥n</button>
                    <div id="loginError" class="error-message"></div>
                </form>
            </div>
            
            <div class="btn-group">
                <button id="registerBtn" class="btn btn-primary">Registrar Nuevo Miembro</button>
            </div>
        </div>
    </div>

    <!-- Main App -->
    <div id="mainApp" class="app-container hidden">
        <!-- Hamburger menu button (moved here) -->
        <button class="menu-toggle" id="menuToggleBtn" style="position:fixed;top:16px;left:16px;z-index:1100;">‚ò∞</button>
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="logo" style="display:flex;flex-direction:column;align-items:center;gap:8px;">
                <img src="https://raw.githubusercontent.com/Kakyyn/RadicalFit/5e7e4575e3f7dab9ac0cf03d74d527b9cb3d1c07/logo.png" alt="Radical Fit Logo" style="width:240px;height:100px;object-fit:contain;">
            </div>
            <nav>
                <ul class="nav-menu" id="navMenu">
                    <!-- Navigation items will be populated by JavaScript -->
                </ul>
                <div style="margin: 32px 0 0 0; display: flex; justify-content: center;">
                    <button id="signOutBtn" class="btn btn-danger" style="min-width: 160px; background: #ef4444; color: #fff; border: none;">Cerrar Sesi√≥n</button>
                </div>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <header class="header">
                <h1 class="page-title" id="pageTitle">Tablero</h1>
                <div class="user-info">
                    <span id="userEmail"></span>
                </div>
            </header>

            <!-- Member Dashboard -->
            <div id="memberDashboard" class="hidden">
                <div id="weighinReminder" style="display:none; margin-bottom: 18px;"></div>
                <div class="card-grid">
                    <div class="stat-card">
                        <div class="stat-icon">üë§</div>
                        <div class="stat-title">ID de Miembro</div>
                        <div class="stat-value" id="memberId"></div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üìÖ</div>
                        <div class="stat-title">Mediciones</div>
                        <div class="stat-value" id="memberMeasurementMessage"></div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üéØ</div>
                        <div class="stat-title">Asistencia</div>
                        <div class="stat-value" id="attendanceCount">0</div>
                    </div>
                </div>

                <div class="member-dashboard-tabs">
                    <!-- Las pesta√±as ahora se controlan desde la barra lateral -->
                </div>

                <div id="qrTab" class="card">
                    <div class="card-header">
                        <h3 class="card-title">Tu C√≥digo QR</h3>
                    </div>
                    <div class="qr-container" id="memberProfileQR"></div>
                    <div id="weighinReminder" style="display:none; margin: 18px 0 0 0;"></div>
                    <p style="text-align: center; color: #9ca3af;">Muestra este c√≥digo QR para la asistencia</p>
                </div>

                <div id="profileTab" class="card hidden">
                    <div class="card-header">
                        <h3 class="card-title">Informaci√≥n Personal</h3>
                    </div>
                    <div id="memberProfile">
                        <div><strong>Nombre:</strong> <span id="memberProfileName"></span></div>
                        <div><strong>Email:</strong> <span id="memberProfileEmail"></span></div>
                        <div><strong>Tel√©fono:</strong> <span id="memberProfilePhone"></span></div>
                        <div><strong>Fecha de Nacimiento:</strong> <span id="memberProfileDob"></span></div>
                        <div><strong>Peso:</strong> <span id="memberProfileWeight"></span></div>
                    </div>
                    <div class="member-images" id="memberImages">
                        <div class="image-card">
                            <h4>Antes</h4>
                            <div id="beforeImage"></div>
                        </div>
                        <div class="image-card">
                            <h4>Despu√©s</h4>
                            <div id="afterImage"></div>
                        </div>
                    </div>
                </div>

                <div id="measurementsTab" class="card hidden">
                    <div class="card-header">
                        <h3 class="card-title">Mediciones Corporales</h3>
                    </div>
                    <div id="memberMeasurements">
                        <div><strong>Abdomen:</strong> <span id="memberProfileAbdomen"></span></div>
                        <div><strong>Cintura:</strong> <span id="memberProfileCintura"></span></div>
                        <div><strong>Cadera:</strong> <span id="memberProfileCadera"></span></div>
                        <div><strong>Pierna:</strong> <span id="memberProfilePierna"></span></div>
                        <div><strong>Brazo:</strong> <span id="memberProfileBrazo"></span></div>
                        <div><strong>Espalda:</strong> <span id="memberProfileEspalda"></span></div>
                    </div>
                </div>

                <div id="progressTab" class="card hidden">
                    <div class="card-header">
                        <h3 class="card-title">Seguimiento de Progreso</h3>
                    </div>
                    <div class="stat-card">
                        <div class="stat-title">Peso Actual</div>
                        <div class="stat-value" id="currentWeight">N/A</div>
                    </div>
                    <div id="weightHistory"></div>
                </div>
            </div>

            <!-- Admin Dashboard -->
            <div id="adminDashboard" class="hidden">
                <div class="card-grid" id="adminCardGrid">
                    <div class="stat-card">
                        <div class="stat-icon">üë•</div>
                        <div class="stat-title">Total de Miembros</div>
                        <div class="stat-value" id="totalMembers">0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">‚úÖ</div>
                        <div class="stat-title">Asistencias de Hoy</div>
                        <div class="stat-value" id="todayCheckins">0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üìä</div>
                        <div class="stat-title">Este Mes</div>
                        <div class="stat-value" id="monthlyCheckins">0</div>
                    </div>
                </div>

                <div class="card" id="miembrosTab">
                    <div class="card-header">
                        <h3 class="card-title">Gesti√≥n de Miembros</h3>
                        <div class="btn-group">
                            <button id="scanQRBtn" class="btn btn-secondary">Escanear C√≥digo QR</button>
                            <button id="addMemberBtn" class="btn btn-primary">Agregar Miembro</button>
                        </div>
                    </div>
                    <table class="table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Nombre</th>
                                <th>Correo Electr√≥nico</th>
                                <th>Tel√©fono</th>
                                <th style="text-align:center;">Asistencia</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody id="membersTableBody">
                        </tbody>
                    </table>
                </div>

                <!-- Compras Tab Content -->
                <div class="card hidden" id="comprasTab" style="margin-top:32px;">
                    <div class="card-header">
                        <h3 class="card-title">Compras</h3>
                        <div class="btn-group">
                            <button id="registrarCompraBtn" class="btn btn-primary">Registrar compra</button>
                            <button id="elegirGanadorBtn" class="btn btn-success">Elegir ganador</button>
                        </div>
                    </div>
                    <div id="comprasWinner" style="margin:12px 0 16px 0;"></div>
                    <ul id="comprasList" style="min-height:40px;list-style:none;padding:0;margin:0 0 12px 0;"></ul>
                </div>

                <!-- Purchase Modal -->
                <div id="purchaseModal" class="modal">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h2 class="modal-title">Registrar Compra</h2>
                            <button class="close-btn" id="closePurchaseModal">&times;</button>
                        </div>
                        <div style="margin: 16px 0; text-align: center;">
                            <input id="purchaseManualIdInput" type="text" placeholder="Ingresar ID o nombre de miembro" style="padding:8px; border-radius:6px; border:1px solid #ccc; width: 220px;">
                            <button id="purchaseManualIdBtn" class="btn btn-primary btn-sm" style="margin-left:8px;">Registrar</button>
                        </div>
                        <div id="purchaseResult" class="success-message" style="text-align: center; margin-top: 16px;"></div>
                    </div>
                </div>
                </div>
                <div class="card hidden" id="ajustesTab" style="margin-top:32px;">
                    <div class="card-header">
                        <h3 class="card-title">Ajustes</h3>
                    </div>
                    <div style="display:flex;flex-direction:column;align-items:center;gap:18px;margin:32px 0 24px 0;">
                        <button id="resetAllBtn" class="btn btn-danger" style="min-width:220px;background:#ef4444;color:#fff;">Eliminar todos los datos</button>
                        <button id="exportDataBtn" class="btn btn-secondary" style="display:inline-block;min-width:220px;text-align:center;cursor:pointer;">Exportar datos</button>
                        <label for="importDataInput" style="min-width:220px;">
                            <input id="importDataInput" type="file" accept="application/json" style="display:none;">
                            <span class="btn btn-secondary" style="width:100%;display:inline-block;text-align:center;cursor:pointer;">Importar datos</span>
                        </label>
                    </div>
                    <div id="settingsMessage" class="error-message" style="margin-top:16px;text-align:center;"></div>
                </div>
            </div>
        </main>
    </div>

    <!-- Registration Modal -->
    <div id="registerModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Registrar Nuevo Miembro</h2>
                <button class="close-btn" id="closeRegisterModal">&times;</button>
            </div>
            <form id="registerForm">
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Nombre Completo</label>
                        <input type="text" class="form-input" id="regName" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Tel√©fono</label>
                        <input type="tel" class="form-input" id="regPhone" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Correo Electr√≥nico</label>
                        <input type="email" class="form-input" id="regEmail" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Contrase√±a</label>
                        <input type="password" class="form-input" id="regPassword" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Fecha de Nacimiento</label>
                        <input type="date" class="form-input" id="regDob" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Peso (kg)</label>
                        <input type="number" class="form-input" id="regWeight" step="0.1" required>
                    </div>
                </div>

                <h4 style="margin: 24px 0 16px 0; color: #ffffff;">Medidas Corporales (cm)</h4>
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Abdomen</label>
                        <input type="number" class="form-input" id="regAbdomen" step="0.1" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Cintura</label>
                        <input type="number" class="form-input" id="regCintura" step="0.1" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Cadera</label>
                        <input type="number" class="form-input" id="regCadera" step="0.1" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Pierna</label>
                        <input type="number" class="form-input" id="regPierna" step="0.1" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Brazo</label>
                        <input type="number" class="form-input" id="regBrazo" step="0.1" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Espalda</label>
                        <input type="number" class="form-input" id="regEspalda" step="0.1" required>
                    </div>
                </div>

                <h4 style="margin: 24px 0 16px 0; color: #ffffff;">Medidas de Ropa</h4>
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Pantal√≥n</label>
                        <input type="text" class="form-input" id="regPantalon" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Camisa</label>
                        <input type="text" class="form-input" id="regCamisa" required>
                    </div>
                </div>
                
                <div class="btn-group">
                    <button type="button" class="btn btn-secondary" id="cancelRegister">Cancelar</button>
                    <button type="submit" class="btn btn-primary">Registrar Miembro</button>
                </div>
                <div id="registerError" class="error-message"></div>
            </form>
        </div>
    </div>

    <!-- Edit Member Modal -->
    <div id="editModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Informaci√≥n</h2>
                <button class="close-btn" id="closeEditModal">&times;</button>
            </div>
            <!-- Modal Tab Bar -->
            <div class="member-tabs-scroll" style="display: flex; overflow-x: auto; gap: 8px; margin-bottom: 18px;">
                <button type="button" class="btn btn-sm btn-secondary member-tab-btn active" data-tab="datosTab" style="min-width:90px;">Datos</button>
                <button type="button" class="btn btn-sm btn-secondary member-tab-btn" data-tab="factoresSaludTab" style="min-width:120px;">Factores de Salud</button>
                <button type="button" class="btn btn-sm btn-secondary member-tab-btn" data-tab="saludMovilidadTab" style="min-width:120px;">Salud/Movilidad</button>
            </div>
            <form id="editForm">

                <input type="hidden" id="editMemberId">
                <!-- Tab Content Areas -->
                <div id="datosTab" class="tab-content-area" style="display: block;">
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">Nombre Completo</label>
                            <input type="text" class="form-input" id="editName" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Tel√©fono</label>
                            <input type="tel" class="form-input" id="editPhone" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Correo Electr√≥nico</label>
                            <input type="email" class="form-input" id="editEmail" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Nueva Contrase√±a (dejar en blanco para mantener la actual)</label>
                            <input type="password" class="form-input" id="editPassword">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Fecha de Nacimiento</label>
                            <input type="date" class="form-input" id="editDob" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Peso (kg)</label>
                            <input type="number" class="form-input" id="editWeight" step="0.1" required>
                        </div>
                    </div>
                    <h4 style="margin: 24px 0 16px 0; color: #ffffff;">Medidas Corporales (cm)</h4>
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">Abdomen</label>
                            <input type="number" class="form-input" id="editAbdomen" step="0.1">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Cintura</label>
                            <input type="number" class="form-input" id="editCintura" step="0.1">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Cadera</label>
                            <input type="number" class="form-input" id="editCadera" step="0.1">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Pierna</label>
                            <input type="number" class="form-input" id="editPierna" step="0.1">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Brazo</label>
                            <input type="number" class="form-input" id="editBrazo" step="0.1">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Espalda</label>
                            <input type="number" class="form-input" id="editEspalda" step="0.1">
                        </div>
                    </div>
                    <h4 style="margin: 24px 0 16px 0; color: #ffffff;">Medidas de Ropa</h4>
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">Pantal√≥n</label>
                            <input type="text" class="form-input" id="editPantalon">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Camisa</label>
                            <input type="text" class="form-input" id="editCamisa">
                        </div>
                    </div>
                    <h4 style="margin: 24px 0 16px 0; color: #ffffff;">Im√°genes</h4>
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">Imagen Antes</label>
                            <input type="file" class="form-input" id="editBeforeImg" accept="image/*">
                            <img id="editBeforePreview" src="" alt="Vista previa antes" style="max-width:100px;display:none;margin-top:8px;" />
                        </div>
                        <div class="form-group">
                            <label class="form-label">Imagen Despu√©s</label>
                            <input type="file" class="form-input" id="editAfterImg" accept="image/*">
                            <img id="editAfterPreview" src="" alt="Vista previa despu√©s" style="max-width:100px;display:none;margin-top:8px;" />
                        </div>
                    </div>
                </div>

                <div id="factoresSaludTab" class="tab-content-area" style="display: none;">
                    <h4 style="margin: 16px 0; color: #ffd600;">Factores de Salud</h4>
                    <div class="form-group">
                        <label class="form-label">Selecciona los factores que aplican:</label>
                        <div style="display: flex; flex-direction: column; gap: 6px; margin-top: 8px;">
                            <label><input type="checkbox" id="faltaEnergia"> Falta de energ√≠a</label>
                            <label><input type="checkbox" id="excesoEstres"> Exceso de estr√©s</label>
                            <label><input type="checkbox" id="descontrolHormonal"> Descontrol hormonal</label>
                            <label><input type="checkbox" id="estrias"> Estr√≠as</label>
                            <label><input type="checkbox" id="celulitis"> Celulitis</label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Flacidez (1-10):</label>
                        <select class="form-input" id="flacidezNivel">
                            <option value="">Selecciona</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                            <option value="10">10</option>
                        </select>
                    </div>
                </div>
                <div id="saludMovilidadTab" class="tab-content-area" style="display: none;">
                    <h4 style="margin: 16px 0; color: #ffd600;">Salud/Movilidad</h4>
                    <div class="form-group">
                        <label class="form-label">Selecciona los factores que aplican:</label>
                        <div style="display: flex; flex-direction: column; gap: 6px; margin-top: 8px;">
                            <label><input type="checkbox" id="trigliceridos"> Triglic√©ridos</label>
                            <label><input type="checkbox" id="colesterol"> Colesterol</label>
                            <label><input type="checkbox" id="diabetes"> Diabetes</label>
                            <label><input type="checkbox" id="higadoGraso"> H√≠gado Graso</label>
                            <label><input type="checkbox" id="piedrasVesicula"> Piedras en Ves√≠cula</label>
                            <label><input type="checkbox" id="prediabetes"> Prediabetes</label>
                            <label><input type="checkbox" id="reflujo"> Reflujo</label>
                            <label><input type="checkbox" id="gastritis"> Gastritis</label>
                            <label><input type="checkbox" id="colitis"> Colitis</label>
                            <label><input type="checkbox" id="piedrasRinon"> Piedras en Ri√±√≥n</label>
                            <label><input type="checkbox" id="retencionLiquidos"> Retenci√≥n de L√≠quidos</label>
                            <label><input type="checkbox" id="faltaEnergia2"> Falta de Energ√≠a</label>
                            <label><input type="checkbox" id="estrenimiento"> Estre√±imiento</label>
                            <label><input type="checkbox" id="migra√±as"> Migra√±as</label>
                            <label><input type="checkbox" id="cansancio"> Cansancio o falta de aire</label>
                            <label><input type="checkbox" id="meCuestaLevantarme"> Me cuesta levantarme</label>
                            <label><input type="checkbox" id="meCuestaAgacharme"> Me cuesta agacharme a tomar algo</label>
                            <label><input type="checkbox" id="pocaResistencia"> Poca resistencia de entrenamiento</label>
                            <label><input type="checkbox" id="meCuestaEstirarme"> Me cuesta estirarme</label>
                            <label><input type="checkbox" id="dolorCaminar"> Dolor al caminar o subir escaleras</label>
                            <label><input type="checkbox" id="doloresArticulares"> Dolores Articulares</label>
                            <label><input type="checkbox" id="meCuestaDormir"> Me cuesta dormir o ronco</label>
                            <label><input type="checkbox" id="meCuestaConducir"> Me cuesta conducir al volante</label>
                            <label><input type="checkbox" id="noPuedoAgacharme"> No puedo agacharme para amarrame los zapatos</label>
                            <label><input type="checkbox" id="nervioCiatico"> Se me inflama el nervio ci√°tico</label>
                            <label><input type="checkbox" id="meDuelenHuesos"> Me duelen huesos o articulaciones</label>
                            <label><input type="checkbox" id="seArrollaRopa"> Se me arrolla la ropa interior</label>
                        </div>
                    </div>
                </div>

                <div class="btn-group">
                    <button type="button" class="btn btn-danger" id="deleteMember">Eliminar Miembro</button>
                    <button type="button" class="btn btn-secondary edit-only" id="cancelEdit" style="display:none;">Cancelar</button>
                    <button type="submit" class="btn btn-primary edit-only" style="display:none;">Guardar Cambios</button>
                </div>
                <div id="editError" class="error-message"></div>
                <div id="editSuccess" class="success-message"></div>
            </form>
        </div>
    </div>

    <!-- QR Scanner Modal -->
    <div id="scannerModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Escanear C√≥digo QR del Miembro</h2>
                <button class="close-btn" id="closeScannerModal">&times;</button>
            </div>
            <div id="qr-reader" style="width: 100%; max-width: 400px; margin: 0 auto;"></div>
            <div style="margin: 16px 0; text-align: center;">
                <input id="manualIdInput" type="text" placeholder="Ingresar ID de miembro" style="padding:8px; border-radius:6px; border:1px solid #ccc; width: 220px;">
                <button id="manualIdBtn" class="btn btn-primary btn-sm" style="margin-left:8px;">Agregar Asistencia</button>
            </div>
            <div id="scanResult" class="success-message" style="text-align: center; margin-top: 16px;"></div>
        </div>
    </div>

    <!-- Measurement Modal -->
    <div id="measurementModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Agregar Medici√≥n</h2>
                <button class="close-btn" id="closeMeasurementModal">&times;</button>
            </div>
            <form id="measurementForm">
                <input type="hidden" id="measurementMemberId">
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Peso (kg)</label>
                        <input type="number" class="form-input" id="measurementWeight" step="0.1" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Abdomen (cm)</label>
                        <input type="number" class="form-input" id="measurementAbdomen" step="0.1">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Cintura (cm)</label>
                        <input type="number" class="form-input" id="measurementCintura" step="0.1">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Cadera (cm)</label>
                        <input type="number" class="form-input" id="measurementCadera" step="0.1">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Pierna (cm)</label>
                        <input type="number" class="form-input" id="measurementPierna" step="0.1">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Brazo (cm)</label>
                        <input type="number" class="form-input" id="measurementBrazo" step="0.1">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Espalda (cm)</label>
                        <input type="number" class="form-input" id="measurementEspalda" step="0.1">
                    </div>
                </div>
                <div class="btn-group">
                    <button type="button" class="btn btn-secondary" id="cancelMeasurement">Cancelar</button>
                    <button type="submit" class="btn btn-primary">Guardar Medici√≥n</button>
                </div>
                <div id="measurementError" class="error-message"></div>
                <div id="measurementSuccess" class="success-message"></div>
            </form>
        </div>
    </div>
    <script src="main.js"></script>
</body>
</html>